首先我给你讲下玩家的基本下注规则：
“复式三中三”概念：也就是复式后面的有几个号码，都按照组合每3个号码为一组看下一共有多少组，例如：5,10,29,30,50复式三中三各20。就是C(5,3)也就是10组
“复式三中二”概念：也就是复式后面的有几个号码，都按照组合每3个号码为一组看下一共有多少组，例如：5,10,29,30,50复式三中二各20。就是C(5,3)也就是10组
“复式二中二”概念：也就是复式后面的有几个号码，都按照组合每3个号码为一组看下一共有多少组，例如：5,10,29,30,5复式二中二各200。就是C(5,2)也就是10组
“复式特碰”概念：也就是复式后面的有几个号码，都按照组合每3个号码为一组看下一共有多少组，例如：5,10,29,30,50。就是C(5,2)也就是10组
“拖”的概念：也就是拖前后有几个号码都随机组合，看下一共有多少组下注：例如1,2,3,拖10,11,12拖18,20,22三中三各20 也就是3*3*3共9组，比如：1-10-18,1-10-20,1-10,22,1-11-18各，其中拖也允许拖“三中二”、“二中二“、“特碰”
上面是基本下注的原则，betstring.txt是我统计的玩家真实下注其中1:、2:、3:、4:~表示的是每笔下注，根据这些下注我想实现智能解析下注的功能，现有下注格式我整理如下：
1.每个玩家下注格式都各不相同有各种符号，有各种符号，符号的表达方式也不相同，甚至下注之间会存在空格和换行一些字符是相对复杂的
2.对多个数字可能同事存在多个概念的下注，例如：12.22.27.38.13三中三，二中二各20即表示三中三下注了上面数字的组合，二中二也下注了上面数字的组合，三中三下注：C(5,3)组，二中二下注：C（5，2）组
3.同一笔下注可能同时对三个体彩进行下注，如果关键词有关键词识别里的“新澳”、“老澳”、“香港”的别名,那就会识别到有这个体彩的下注，而且关键字识别要求从最多字开始替换，直至替换至最少字(因为比较多的字可能会比较比较少的字)，如果识别到则说明有这个体彩的下注
4，“各”的关键字表示的是每组下注多少钱，基本上“各”字就代表着这条下注结束，表示前面的每组下注“各”多少钱，关键词替换也是从多字往少字替换
5.“复式”相关关键字的下注表示，上面的号码要是否出现有“下注类型”的关键字，是的话则按相关的进行组合有多少组：例如19.29.39.36.6.26.复式三中三二中二各30，表示这5个数字“三中三”和“二中二”组合每组都下注30
6.“每组”的概念其实跟“各”的概念差不多表示下注的金额，代表着这条下注结束，但”每组“的概念更多是12-30-12,30-46-45,48-32-30每组30,更多的不是复式的下注而是明确每组下组的号码
7.带有“生肖”、“颜色”和“尾数”的关键字可以直接翻译成对应号码，然后有相关关键字正常都是“复式”或者“拖”的下注，然后进行相关号码的下注
8.表示每组下注的时候正常还会有32-34-42 =20这样的形式，这样表示32-34-42下注三中三20元，20-40=30表示20-40下注二中二30元，正常就是多个一样的符合然后最后一个不一样的符号表示下注的金额的方式
说完了下注格式的整体，我想提出我的实现“智能解析”实现方法，实现思路是这样：
1.先对下注的字符串格式做清理，优先对换行做空格符的替换，即把换行都当做空格来处理，然后对有多个分隔符做替换，代码如下：
	consecutiveRe := regexp.MustCompile(`([./\\\-=:,、+。*])([./\\\-=:,、+。*])+`)
	processedString = consecutiveRe.ReplaceAllString(processedString, "$1")
这里尽可能的实现更多的字符串替换
2.替换“12生肖”、“颜色波段”和“尾数配置”别名把具体的关键字替换成具体的号码
3.识别到本次统计下注的结束语句例如”各“和”每组“的别名，然后统计本次统计的下注如果识别到相关下注类型的关键字”新澳“、”老澳“和”香港“相关的关键字，则代表本次统计包含了这些所有体彩的下组，如果包含”复式“相关的则表示是复式的下注，包含”下注类别“的下注正常是多个号码进行组合的下注，所以在数据结构里去识别本次统计的下注存在哪些体彩的下注，每个体彩”下注类型“各自下注了多少组，每组多少金额，这里数据结构特别要注意层次关系，以及每个体彩应该是独立的，然后要去识别本次下注是否存在该下注类别，如果统计到存在该下注类别，而实际是不存在则要进行报错处理，如果统计到结束语句的话，而不存在任何下注，也要进行报错，即“各”和”每组“的概念要出现在下注的数字后面而不是前面，不然就报错处理
4.对于12-38=20，这种下注类型，如果在前面有识别到下注类型则很明确表示到下注二中二，但如果没有的话12-38-20有2个分隔符的默认就是下注二中二第三个表示金额，而12-38-20-40这种的默认就是下注3中3第三个分隔符后面表示金额(这点帮我优化下表达)
5.存在“复式”下注正常都是跟各结合在一起的，表示每组下组多少钱，存在每组的下注正常都是每组号码是独立下注的，但也妨碍会出现这样表示每组下注多少钱的，而不是复式
23/25/34
23/43/42
25/36/47
12/23/34
三中三各5元
但也妨碍会出现这样表示每组下注多少钱的，而不是复式,这点我希望你帮我提出更好的识别校验
6.每一次下次会出现多笔下注，如果上一笔下注标识了下注的种类，下一笔没识别到出独立的下注种类，则默认继承上一笔的下注种类，例如：
新.
36.19.31.30.33.18
三中三3二中二各3
36-19
31-30
33-18
二中二各5

36.19.31.30.33.18
旧.三中三二中二各2
这样表示“新澳”体彩下注：
36.19.31.30.33.18
三中三3二中二各3
36-19
31-30
33-18
二中二各5
“老澳”体彩下注“
36.19.31.30.33.18
三中三二中二各2
每笔下注是独立分开下注的，而如果是下面这样下注，则表示每笔都同时下注"新澳"和“老澳：
新.旧
36.19.31.30.33.18
三中三3二中二各3
36-19
31-30
33-18
二中二各5

36.19.31.30.33.18
.三中三二中二各2
这样表示“新澳”体彩下注：
36.19.31.30.33.18
三中三3二中二各3
36-19
31-30
33-18
二中二各5
“老澳”体彩下注“
36.19.31.30.33.18
三中三二中二各2


我的基本下注原则就这样，请你帮我重新梳理下更好的表达需求，也请你认识我的需求并复述你的理财